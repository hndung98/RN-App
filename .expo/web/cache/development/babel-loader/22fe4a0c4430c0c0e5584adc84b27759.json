{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userInfoSelector } from \"../redux/selectors\";\nimport { userSlice } from \"../redux/slice/userSlice\";\nimport { db, firebaseConfig } from \"../../firebase-config\";\nimport { getDatabase, ref, set } from \"firebase/database\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar SettingsScreen = function SettingsScreen() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLogin = _useState2[0],\n      setIsLogin = _useState2[1];\n\n  var userInfo = useSelector(userInfoSelector);\n  var dispatch = useDispatch();\n\n  var handleTextClick = function handleTextClick() {\n    dispatch(userSlice.actions.login({\n      userId: 0,\n      userName: '',\n      isLogin: false\n    }));\n    alert(userInfo.userName);\n  };\n\n  var handleClick = function handleClick() {\n    var db2 = getDatabase();\n    set(ref(db, 'users/' + '001'), {\n      userId: userInfo.userId,\n      userName: userInfo.userName\n    }).then(function () {\n      alert('Data saved successfully!');\n    }).catch(function (error) {\n      alert('The write failed...');\n    });\n  };\n\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      onPress: handleTextClick,\n      children: \"Settings Page\"\n    }), _jsxs(Text, {\n      children: [\"user id: \", userInfo.userId]\n    }), _jsxs(Text, {\n      children: [\"user name: \", userInfo.userName]\n    }), _jsxs(Text, {\n      children: [\"login status: \", userInfo.isLogin === true ? 'true' : 'false']\n    }), _jsx(Button, {\n      style: styles.button,\n      title: \"Write Data\",\n      onPress: handleClick\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  highlight: {\n    fontWeight: '700'\n  },\n  button: {\n    textAlign: 'center',\n    marginVertical: 8\n  }\n});\nexport default SettingsScreen;","map":{"version":3,"sources":["D:/Download/Desktop/BK/mobile/App/SPM/RN_App/src/screens/SettingsScreen.js"],"names":["React","useState","useDispatch","useSelector","userInfoSelector","userSlice","db","firebaseConfig","getDatabase","ref","set","SettingsScreen","isLogin","setIsLogin","userInfo","dispatch","handleTextClick","actions","login","userId","userName","alert","handleClick","db2","then","catch","error","styles","button","StyleSheet","create","highlight","fontWeight","textAlign","marginVertical"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;AAOA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,gBAAT;AACA,SAASC,SAAT;AAEA,SAASC,EAAT,EAAaC,cAAb;AACA,SAASC,WAAT,EAAsBC,GAAtB,EAA2BC,GAA3B,QAAsC,mBAAtC;;;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,kBAA8BV,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOW,OAAP;AAAA,MAAgBC,UAAhB;;AAEA,MAAMC,QAAQ,GAAGX,WAAW,CAACC,gBAAD,CAA5B;AAEA,MAAMW,QAAQ,GAAGb,WAAW,EAA5B;;AAEA,MAAMc,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BD,IAAAA,QAAQ,CAACV,SAAS,CAACY,OAAV,CAAkBC,KAAlB,CAAwB;AAC/BC,MAAAA,MAAM,EAAE,CADuB;AAE/BC,MAAAA,QAAQ,EAAE,EAFqB;AAG/BR,MAAAA,OAAO,EAAE;AAHsB,KAAxB,CAAD,CAAR;AAKAS,IAAAA,KAAK,CAACP,QAAQ,CAACM,QAAV,CAAL;AACD,GAPD;;AASA,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAMC,GAAG,GAAGf,WAAW,EAAvB;AACAE,IAAAA,GAAG,CAACD,GAAG,CAACH,EAAD,EAAK,WAAW,KAAhB,CAAJ,EAA4B;AAC7Ba,MAAAA,MAAM,EAAEL,QAAQ,CAACK,MADY;AAE7BC,MAAAA,QAAQ,EAAEN,QAAQ,CAACM;AAFU,KAA5B,CAAH,CAICI,IAJD,CAIM,YAAM;AACVH,MAAAA,KAAK,CAAC,0BAAD,CAAL;AACD,KAND,EAOCI,KAPD,CAOO,UAACC,KAAD,EAAW;AAChBL,MAAAA,KAAK,CAAC,qBAAD,CAAL;AACD,KATD;AAUD,GAZD;;AAcA,SACI,MAAC,IAAD;AAAA,eACI,KAAC,IAAD;AAAM,MAAA,OAAO,EAAEL,eAAf;AAAA;AAAA,MADJ,EAEI,MAAC,IAAD;AAAA,8BAAgBF,QAAQ,CAACK,MAAzB;AAAA,MAFJ,EAGI,MAAC,IAAD;AAAA,gCAAkBL,QAAQ,CAACM,QAA3B;AAAA,MAHJ,EAII,MAAC,IAAD;AAAA,mCAAqBN,QAAQ,CAACF,OAAT,KAAqB,IAArB,GAA4B,MAA5B,GAAqC,OAA1D;AAAA,MAJJ,EAKI,KAAC,MAAD;AAAQ,MAAA,KAAK,EAAEe,MAAM,CAACC,MAAtB;AAA8B,MAAA,KAAK,EAAC,YAApC;AAAiD,MAAA,OAAO,EAAEN;AAA1D,MALJ;AAAA,IADJ;AASD,CAvCD;;AA0CA,IAAMK,MAAM,GAAGE,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UAAU,EAAE;AADH,GADkB;AAI7BJ,EAAAA,MAAM,EAAE;AACNK,IAAAA,SAAS,EAAE,QADL;AAENC,IAAAA,cAAc,EAAE;AAFV;AAJqB,CAAlB,CAAf;AAUE,eAAevB,cAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Button\r\n} from 'react-native';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { userInfoSelector } from '../redux/selectors';\r\nimport { userSlice } from '../redux/slice/userSlice';\r\n\r\nimport { db, firebaseConfig } from '../../firebase-config';\r\nimport { getDatabase, ref, set } from \"firebase/database\";\r\n\r\nconst SettingsScreen = () => {\r\n  const [isLogin, setIsLogin] = useState(false);\r\n\r\n  const userInfo = useSelector(userInfoSelector);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleTextClick = () => {\r\n    dispatch(userSlice.actions.login({\r\n      userId: 0,\r\n      userName: '',\r\n      isLogin: false\r\n    }));\r\n    alert(userInfo.userName);\r\n  }\r\n\r\n  const handleClick = () => {\r\n    const db2 = getDatabase();\r\n    set(ref(db, 'users/' + '001'), {\r\n      userId: userInfo.userId,\r\n      userName: userInfo.userName\r\n    })\r\n    .then(() => {\r\n      alert('Data saved successfully!');\r\n    })\r\n    .catch((error) => {\r\n      alert('The write failed...');\r\n    });\r\n  }\r\n\r\n  return (\r\n      <View>\r\n          <Text onPress={handleTextClick}>Settings Page</Text>\r\n          <Text>user id: {userInfo.userId}</Text>\r\n          <Text>user name: {userInfo.userName}</Text>\r\n          <Text>login status: {userInfo.isLogin === true ? 'true' : 'false'}</Text>\r\n          <Button style={styles.button} title=\"Write Data\" onPress={handleClick} />\r\n      </View>\r\n  );\r\n};\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    highlight: {\r\n      fontWeight: '700',\r\n    },\r\n    button: {\r\n      textAlign: 'center',\r\n      marginVertical: 8,\r\n    },\r\n  });\r\n\r\n  export default SettingsScreen"]},"metadata":{},"sourceType":"module"}